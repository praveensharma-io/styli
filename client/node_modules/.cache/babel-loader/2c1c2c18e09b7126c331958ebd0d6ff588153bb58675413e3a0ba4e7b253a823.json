{"ast":null,"code":"var _jsxFileName = \"/Users/macos/stylii/client/src/components/DynamicLayout.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport HeroComponent from './ui/HeroComponent';\nimport ProductGridComponent from './ui/ProductGridComponent';\nimport BannerComponent from './ui/BannerComponent';\nimport CategoryListComponent from './ui/CategoryListComponent';\nimport FeaturedProductsComponent from './ui/FeaturedProductsComponent';\nimport CartComponent from './ui/CartComponent';\nimport CheckoutComponent from './ui/CheckoutComponent';\nimport HeaderComponent from './ui/HeaderComponent';\nimport FooterComponent from './ui/FooterComponent';\nimport ProductDetailComponent from './ui/ProductDetailComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DynamicLayout = ({\n  pageType: initialPageType,\n  pageId: initialPageId\n}) => {\n  _s();\n  const params = useParams();\n  const pageType = initialPageType || params.pageType;\n  const pageId = initialPageId || params.pageId;\n  const [layout, setLayout] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchLayout = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await axios.get(`/api/layouts/${pageType}/${pageId}`);\n        if (response.data.success) {\n          console.log('Layout data received:', response.data.layout);\n          setLayout(response.data.layout);\n        } else {\n          setError('Failed to load layout');\n        }\n      } catch (error) {\n        console.error('Error fetching layout:', error);\n        setError('Failed to load layout');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (pageType && pageId) {\n      fetchLayout();\n    }\n  }, [pageType, pageId]);\n  const renderComponent = component => {\n    const {\n      type,\n      config,\n      data,\n      order\n    } = component;\n    console.log('Rendering component:', {\n      type,\n      config,\n      data,\n      order\n    });\n    switch (type) {\n      case 'hero':\n        return /*#__PURE__*/_jsxDEV(HeroComponent, {\n          config: config,\n          data: data\n        }, order, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 16\n        }, this);\n      case 'productGrid':\n        return /*#__PURE__*/_jsxDEV(ProductGridComponent, {\n          config: config,\n          data: data\n        }, order, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 16\n        }, this);\n      case 'banner':\n        return /*#__PURE__*/_jsxDEV(BannerComponent, {\n          config: config,\n          data: data\n        }, order, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 16\n        }, this);\n      case 'categoryList':\n        return /*#__PURE__*/_jsxDEV(CategoryListComponent, {\n          config: config,\n          data: data\n        }, order, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 16\n        }, this);\n      case 'featuredProducts':\n        return /*#__PURE__*/_jsxDEV(FeaturedProductsComponent, {\n          config: config,\n          data: data\n        }, order, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 16\n        }, this);\n      case 'cart':\n        return /*#__PURE__*/_jsxDEV(CartComponent, {\n          config: config,\n          data: data\n        }, order, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 16\n        }, this);\n      case 'checkout':\n        return /*#__PURE__*/_jsxDEV(CheckoutComponent, {\n          config: config,\n          data: data\n        }, order, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 16\n        }, this);\n      case 'header':\n        return /*#__PURE__*/_jsxDEV(HeaderComponent, {\n          config: config,\n          data: data\n        }, order, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 16\n        }, this);\n      case 'footer':\n        return /*#__PURE__*/_jsxDEV(FooterComponent, {\n          config: config,\n          data: data\n        }, order, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 16\n        }, this);\n      case 'productDetail':\n        return /*#__PURE__*/_jsxDEV(ProductDetailComponent, {\n          config: config,\n          data: data\n        }, order, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 16\n        }, this);\n      default:\n        console.warn('Unknown component type:', type);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-warning\",\n          children: [\"Unknown component type: \", type]\n        }, order, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n  if (!layout) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-warning\",\n        role: \"alert\",\n        children: \"Layout not found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this);\n  }\n  console.log('Rendering layout with components:', layout.components);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dynamic-layout\",\n    children: layout.components.map(renderComponent)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n_s(DynamicLayout, \"c2WA41hI76oLDwvm8BP7MAU7tag=\", false, function () {\n  return [useParams];\n});\n_c = DynamicLayout;\nexport default DynamicLayout;\nvar _c;\n$RefreshReg$(_c, \"DynamicLayout\");","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","HeroComponent","ProductGridComponent","BannerComponent","CategoryListComponent","FeaturedProductsComponent","CartComponent","CheckoutComponent","HeaderComponent","FooterComponent","ProductDetailComponent","jsxDEV","_jsxDEV","DynamicLayout","pageType","initialPageType","pageId","initialPageId","_s","params","layout","setLayout","loading","setLoading","error","setError","fetchLayout","response","get","data","success","console","log","renderComponent","component","type","config","order","fileName","_jsxFileName","lineNumber","columnNumber","warn","className","children","role","components","map","_c","$RefreshReg$"],"sources":["/Users/macos/stylii/client/src/components/DynamicLayout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport HeroComponent from './ui/HeroComponent';\nimport ProductGridComponent from './ui/ProductGridComponent';\nimport BannerComponent from './ui/BannerComponent';\nimport CategoryListComponent from './ui/CategoryListComponent';\nimport FeaturedProductsComponent from './ui/FeaturedProductsComponent';\nimport CartComponent from './ui/CartComponent';\nimport CheckoutComponent from './ui/CheckoutComponent';\nimport HeaderComponent from './ui/HeaderComponent';\nimport FooterComponent from './ui/FooterComponent';\nimport ProductDetailComponent from './ui/ProductDetailComponent';\n\nconst DynamicLayout = ({ pageType: initialPageType, pageId: initialPageId }) => {\n  const params = useParams();\n  const pageType = initialPageType || params.pageType;\n  const pageId = initialPageId || params.pageId;\n  \n  const [layout, setLayout] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchLayout = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        \n        const response = await axios.get(`/api/layouts/${pageType}/${pageId}`);\n        \n        if (response.data.success) {\n          console.log('Layout data received:', response.data.layout);\n          setLayout(response.data.layout);\n        } else {\n          setError('Failed to load layout');\n        }\n      } catch (error) {\n        console.error('Error fetching layout:', error);\n        setError('Failed to load layout');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (pageType && pageId) {\n      fetchLayout();\n    }\n  }, [pageType, pageId]);\n\n  const renderComponent = (component) => {\n    const { type, config, data, order } = component;\n    \n    console.log('Rendering component:', { type, config, data, order });\n\n    switch (type) {\n      case 'hero':\n        return <HeroComponent key={order} config={config} data={data} />;\n      case 'productGrid':\n        return <ProductGridComponent key={order} config={config} data={data} />;\n      case 'banner':\n        return <BannerComponent key={order} config={config} data={data} />;\n      case 'categoryList':\n        return <CategoryListComponent key={order} config={config} data={data} />;\n      case 'featuredProducts':\n        return <FeaturedProductsComponent key={order} config={config} data={data} />;\n      case 'cart':\n        return <CartComponent key={order} config={config} data={data} />;\n      case 'checkout':\n        return <CheckoutComponent key={order} config={config} data={data} />;\n      case 'header':\n        return <HeaderComponent key={order} config={config} data={data} />;\n      case 'footer':\n        return <FooterComponent key={order} config={config} data={data} />;\n      case 'productDetail':\n        return <ProductDetailComponent key={order} config={config} data={data} />;\n      default:\n        console.warn('Unknown component type:', type);\n        return <div key={order} className=\"alert alert-warning\">Unknown component type: {type}</div>;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container py-5\">\n        <div className=\"text-center\">\n          <div className=\"spinner-border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container py-5\">\n        <div className=\"alert alert-danger\" role=\"alert\">\n          {error}\n        </div>\n      </div>\n    );\n  }\n\n  if (!layout) {\n    return (\n      <div className=\"container py-5\">\n        <div className=\"alert alert-warning\" role=\"alert\">\n          Layout not found\n        </div>\n      </div>\n    );\n  }\n\n  console.log('Rendering layout with components:', layout.components);\n\n  return (\n    <div className=\"dynamic-layout\">\n      {layout.components.map(renderComponent)}\n    </div>\n  );\n};\n\nexport default DynamicLayout; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}