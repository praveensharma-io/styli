{"ast":null,"code":"var _jsxFileName = \"/Users/macos/stylii/client/src/components/DynamicLayout.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Spinner, Alert } from 'react-bootstrap';\nimport HeroComponent from './ui/HeroComponent';\nimport ProductGridComponent from './ui/ProductGridComponent';\nimport BannerComponent from './ui/BannerComponent';\nimport CategoryListComponent from './ui/CategoryListComponent';\nimport FeaturedProductsComponent from './ui/FeaturedProductsComponent';\nimport CartComponent from './ui/CartComponent';\nimport CheckoutComponent from './ui/CheckoutComponent';\nimport HeaderComponent from './ui/HeaderComponent';\nimport FooterComponent from './ui/FooterComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DynamicLayout = () => {\n  _s();\n  const {\n    pageType,\n    pageId\n  } = useParams();\n  const [layout, setLayout] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    fetchLayout();\n  }, [pageType, pageId]);\n  const fetchLayout = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`/api/layouts/${pageType}/${pageId}?userId=60d21b4667d0d8992e610c85&userRole=customer&deviceType=desktop`);\n      const data = await response.json();\n      if (data.success) {\n        setLayout(data.layout);\n      } else {\n        setError(data.message || 'Failed to load layout');\n      }\n    } catch (error) {\n      console.error('Error fetching layout:', error);\n      setError('Failed to load page layout');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const renderComponent = component => {\n    const {\n      type,\n      config,\n      data\n    } = component;\n    switch (type) {\n      case 'hero':\n        return /*#__PURE__*/_jsxDEV(HeroComponent, {\n          config: config,\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 16\n        }, this);\n      case 'productGrid':\n        return /*#__PURE__*/_jsxDEV(ProductGridComponent, {\n          config: config,\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 16\n        }, this);\n      case 'banner':\n        return /*#__PURE__*/_jsxDEV(BannerComponent, {\n          config: config,\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 16\n        }, this);\n      case 'categoryList':\n        return /*#__PURE__*/_jsxDEV(CategoryListComponent, {\n          config: config,\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 16\n        }, this);\n      case 'featuredProducts':\n        return /*#__PURE__*/_jsxDEV(FeaturedProductsComponent, {\n          config: config,\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 16\n        }, this);\n      case 'cart':\n        return /*#__PURE__*/_jsxDEV(CartComponent, {\n          config: config,\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 16\n        }, this);\n      case 'checkout':\n        return /*#__PURE__*/_jsxDEV(CheckoutComponent, {\n          config: config,\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 16\n        }, this);\n      case 'header':\n        return /*#__PURE__*/_jsxDEV(HeaderComponent, {\n          config: config,\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 16\n        }, this);\n      case 'footer':\n        return /*#__PURE__*/_jsxDEV(FooterComponent, {\n          config: config,\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Unknown component type: \", type]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3\",\n        children: \"Loading page layout...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n  if (!layout) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"warning\",\n        children: \"No layout found for this page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dynamic-layout\",\n    children: layout.components.map((component, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"component-wrapper\",\n      children: renderComponent(component)\n    }, `${component.id}-${index}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n_s(DynamicLayout, \"itQXOv72HyqScVkniw/+/TJ2bvg=\", false, function () {\n  return [useParams];\n});\n_c = DynamicLayout;\nexport default DynamicLayout;\nvar _c;\n$RefreshReg$(_c, \"DynamicLayout\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Spinner","Alert","HeroComponent","ProductGridComponent","BannerComponent","CategoryListComponent","FeaturedProductsComponent","CartComponent","CheckoutComponent","HeaderComponent","FooterComponent","jsxDEV","_jsxDEV","DynamicLayout","_s","pageType","pageId","layout","setLayout","loading","setLoading","error","setError","fetchLayout","response","fetch","data","json","success","message","console","renderComponent","component","type","config","fileName","_jsxFileName","lineNumber","columnNumber","children","className","animation","variant","components","map","index","id","_c","$RefreshReg$"],"sources":["/Users/macos/stylii/client/src/components/DynamicLayout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Spinner, Alert } from 'react-bootstrap';\nimport HeroComponent from './ui/HeroComponent';\nimport ProductGridComponent from './ui/ProductGridComponent';\nimport BannerComponent from './ui/BannerComponent';\nimport CategoryListComponent from './ui/CategoryListComponent';\nimport FeaturedProductsComponent from './ui/FeaturedProductsComponent';\nimport CartComponent from './ui/CartComponent';\nimport CheckoutComponent from './ui/CheckoutComponent';\nimport HeaderComponent from './ui/HeaderComponent';\nimport FooterComponent from './ui/FooterComponent';\n\nconst DynamicLayout = () => {\n  const { pageType, pageId } = useParams();\n  const [layout, setLayout] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetchLayout();\n  }, [pageType, pageId]);\n\n  const fetchLayout = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`/api/layouts/${pageType}/${pageId}?userId=60d21b4667d0d8992e610c85&userRole=customer&deviceType=desktop`);\n      const data = await response.json();\n\n      if (data.success) {\n        setLayout(data.layout);\n      } else {\n        setError(data.message || 'Failed to load layout');\n      }\n    } catch (error) {\n      console.error('Error fetching layout:', error);\n      setError('Failed to load page layout');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderComponent = (component) => {\n    const { type, config, data } = component;\n\n    switch (type) {\n      case 'hero':\n        return <HeroComponent config={config} data={data} />;\n      case 'productGrid':\n        return <ProductGridComponent config={config} data={data} />;\n      case 'banner':\n        return <BannerComponent config={config} data={data} />;\n      case 'categoryList':\n        return <CategoryListComponent config={config} data={data} />;\n      case 'featuredProducts':\n        return <FeaturedProductsComponent config={config} data={data} />;\n      case 'cart':\n        return <CartComponent config={config} data={data} />;\n      case 'checkout':\n        return <CheckoutComponent config={config} data={data} />;\n      case 'header':\n        return <HeaderComponent config={config} data={data} />;\n      case 'footer':\n        return <FooterComponent config={config} data={data} />;\n      default:\n        return <div>Unknown component type: {type}</div>;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container py-5 text-center\">\n        <Spinner animation=\"border\" variant=\"primary\" />\n        <p className=\"mt-3\">Loading page layout...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container py-5\">\n        <Alert variant=\"danger\">{error}</Alert>\n      </div>\n    );\n  }\n\n  if (!layout) {\n    return (\n      <div className=\"container py-5\">\n        <Alert variant=\"warning\">No layout found for this page</Alert>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"dynamic-layout\">\n      {layout.components.map((component, index) => (\n        <div key={`${component.id}-${index}`} className=\"component-wrapper\">\n          {renderComponent(component)}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default DynamicLayout; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}