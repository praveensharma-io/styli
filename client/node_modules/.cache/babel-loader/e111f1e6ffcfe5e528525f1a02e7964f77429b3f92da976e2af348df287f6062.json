{"ast":null,"code":"import React from'react';import{Container,Row,Col,Card,Button,Badge}from'react-bootstrap';import{useCartActions}from'../../context/CartContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CartComponent=_ref=>{let{config,data}=_ref;const{items=[],total=0,itemCount=0,subtotal=0}=data;const{updateCartItem,removeFromCart}=useCartActions();const formatCurrency=amount=>{return`AED ${parseFloat(amount).toFixed(2)}`;};const handleQuantityChange=async(itemId,newQuantity)=>{if(newQuantity<1){await removeFromCart(itemId);}else{await updateCartItem(itemId,newQuantity);}};const renderCartItem=item=>{var _item$attributes;return/*#__PURE__*/_jsx(\"div\",{className:\"cart-item mb-4 p-4 bg-white rounded shadow-sm\",children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Col,{md:3,lg:2,children:/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image||'https://via.placeholder.com/100x100',alt:item.name,className:\"img-fluid rounded\",style:{width:'100px',height:'100px',objectFit:'cover'}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light rounded-circle position-absolute top-0 end-0 m-2\",style:{width:'32px',height:'32px',fontSize:'0.8rem'},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-heart text-muted\"})})]})}),/*#__PURE__*/_jsx(Col,{md:6,lg:7,children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-2 fw-bold\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-2\",children:[\"Size: \",((_item$attributes=item.attributes)===null||_item$attributes===void 0?void 0:_item$attributes.size)||'M']}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold me-3\",children:formatCurrency(item.salePrice||item.price)}),item.salePrice&&item.salePrice<item.price&&/*#__PURE__*/_jsx(\"span\",{className:\"text-muted text-decoration-line-through\",children:formatCurrency(item.price)})]})]})}),/*#__PURE__*/_jsx(Col,{md:3,lg:3,children:/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-control d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",size:\"sm\",onClick:()=>handleQuantityChange(item.id,item.quantity-1),children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-3 fw-bold\",children:item.quantity}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",size:\"sm\",onClick:()=>handleQuantityChange(item.id,item.quantity+1),children:\"+\"})]})})]})},item.id);};return/*#__PURE__*/_jsx(\"div\",{className:\"cart-component py-5\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:8,children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-items-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mb-4 fw-bold\",children:[\"Shopping Bag (\",itemCount,\" items)\"]}),items.length>0?items.map(renderCartItem):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-bag fa-3x text-muted mb-3\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-muted\",children:\"Your cart is empty\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Add some products to get started!\"})]})]})}),/*#__PURE__*/_jsx(Col,{lg:4,children:/*#__PURE__*/_jsxs(Card,{className:\"order-summary sticky-top\",style:{top:'20px'},children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-primary text-white\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Order Summary\"})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatCurrency(subtotal)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Shipping:\"}),/*#__PURE__*/_jsx(\"span\",{children:\"AED 12.00\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total:\"}),/*#__PURE__*/_jsx(\"strong\",{children:formatCurrency(total+12)})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"w-100 mb-2\",disabled:items.length===0,children:\"Proceed to Checkout\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",className:\"w-100\",children:\"Continue Shopping\"})]})]})})]})})});};export default CartComponent;","map":{"version":3,"names":["React","Container","Row","Col","Card","Button","Badge","useCartActions","jsx","_jsx","jsxs","_jsxs","CartComponent","_ref","config","data","items","total","itemCount","subtotal","updateCartItem","removeFromCart","formatCurrency","amount","parseFloat","toFixed","handleQuantityChange","itemId","newQuantity","renderCartItem","item","_item$attributes","className","children","md","lg","src","image","alt","name","style","width","height","objectFit","fontSize","attributes","size","salePrice","price","variant","onClick","id","quantity","length","map","top","Header","Body","disabled"],"sources":["/Users/macos/stylii/client/src/components/ui/CartComponent.js"],"sourcesContent":["import React from 'react';\nimport { Container, Row, Col, Card, Button, Badge } from 'react-bootstrap';\nimport { useCartActions } from '../../context/CartContext';\n\nconst CartComponent = ({ config, data }) => {\n  const { items = [], total = 0, itemCount = 0, subtotal = 0 } = data;\n  const { updateCartItem, removeFromCart } = useCartActions();\n\n  const formatCurrency = (amount) => {\n    return `AED ${parseFloat(amount).toFixed(2)}`;\n  };\n\n  const handleQuantityChange = async (itemId, newQuantity) => {\n    if (newQuantity < 1) {\n      await removeFromCart(itemId);\n    } else {\n      await updateCartItem(itemId, newQuantity);\n    }\n  };\n\n  const renderCartItem = (item) => (\n    <div key={item.id} className=\"cart-item mb-4 p-4 bg-white rounded shadow-sm\">\n      <Row className=\"align-items-center\">\n        <Col md={3} lg={2}>\n          <div className=\"position-relative\">\n            <img\n              src={item.image || 'https://via.placeholder.com/100x100'}\n              alt={item.name}\n              className=\"img-fluid rounded\"\n              style={{ width: '100px', height: '100px', objectFit: 'cover' }}\n            />\n            <button\n              className=\"btn btn-light rounded-circle position-absolute top-0 end-0 m-2\"\n              style={{ width: '32px', height: '32px', fontSize: '0.8rem' }}\n            >\n              <i className=\"fas fa-heart text-muted\"></i>\n            </button>\n          </div>\n        </Col>\n        \n        <Col md={6} lg={7}>\n          <div className=\"item-details\">\n            <h6 className=\"mb-2 fw-bold\">{item.name}</h6>\n            <p className=\"text-muted mb-2\">Size: {item.attributes?.size || 'M'}</p>\n            <div className=\"d-flex align-items-center mb-2\">\n              <span className=\"fw-bold me-3\">{formatCurrency(item.salePrice || item.price)}</span>\n              {item.salePrice && item.salePrice < item.price && (\n                <span className=\"text-muted text-decoration-line-through\">\n                  {formatCurrency(item.price)}\n                </span>\n              )}\n            </div>\n          </div>\n        </Col>\n        \n        <Col md={3} lg={3}>\n          <div className=\"quantity-control d-flex align-items-center\">\n            <Button\n              variant=\"outline-secondary\"\n              size=\"sm\"\n              onClick={() => handleQuantityChange(item.id, item.quantity - 1)}\n            >\n              -\n            </Button>\n            <span className=\"mx-3 fw-bold\">{item.quantity}</span>\n            <Button\n              variant=\"outline-secondary\"\n              size=\"sm\"\n              onClick={() => handleQuantityChange(item.id, item.quantity + 1)}\n            >\n              +\n            </Button>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n\n  return (\n    <div className=\"cart-component py-5\">\n      <Container>\n        <Row>\n          <Col lg={8}>\n            <div className=\"cart-items-section\">\n              <h3 className=\"mb-4 fw-bold\">Shopping Bag ({itemCount} items)</h3>\n              \n              {items.length > 0 ? (\n                items.map(renderCartItem)\n              ) : (\n                <div className=\"text-center py-5\">\n                  <i className=\"fas fa-shopping-bag fa-3x text-muted mb-3\"></i>\n                  <h5 className=\"text-muted\">Your cart is empty</h5>\n                  <p className=\"text-muted\">Add some products to get started!</p>\n                </div>\n              )}\n            </div>\n          </Col>\n          \n          <Col lg={4}>\n            <Card className=\"order-summary sticky-top\" style={{ top: '20px' }}>\n              <Card.Header className=\"bg-primary text-white\">\n                <h5 className=\"mb-0\">Order Summary</h5>\n              </Card.Header>\n              <Card.Body>\n                <div className=\"d-flex justify-content-between mb-2\">\n                  <span>Subtotal:</span>\n                  <span>{formatCurrency(subtotal)}</span>\n                </div>\n                <div className=\"d-flex justify-content-between mb-2\">\n                  <span>Shipping:</span>\n                  <span>AED 12.00</span>\n                </div>\n                <hr />\n                <div className=\"d-flex justify-content-between mb-3\">\n                  <strong>Total:</strong>\n                  <strong>{formatCurrency(total + 12)}</strong>\n                </div>\n                \n                <Button variant=\"primary\" className=\"w-100 mb-2\" disabled={items.length === 0}>\n                  Proceed to Checkout\n                </Button>\n                \n                <Button variant=\"outline-secondary\" className=\"w-100\">\n                  Continue Shopping\n                </Button>\n              </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default CartComponent; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}